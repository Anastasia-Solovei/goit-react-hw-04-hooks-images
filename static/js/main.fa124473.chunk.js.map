{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/GalleryLoader/GalleryLoader.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/QueryError/QueryError.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.module.css","services/image-gallery-api.js","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/GalleryLoader/GalleryLoader.js","components/QueryError/QueryError.js","components/Modal/Modal.js","components/Button/Button.js","components/App.js","index.js"],"names":["module","exports","imageGalleryApi","fetchImages","query","page","axios","defaults","baseURL","params","key","image_type","orientation","per_page","get","then","response","status","data","hits","length","Promise","reject","Error","Searchbar","onSubmit","useState","input","setInput","className","s","SearchForm","e","preventDefault","trim","toast","error","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","value","onChange","target","toLowerCase","ImageGalleryItem","image","webformatURL","tags","largeImageURL","onClick","src","alt","ImageGalleryItemImage","ImageGallery","images","map","id","GalleryLoader","color","width","height","GalleryLoaderText","QueryError","queryError","message","modalRoot","document","querySelector","Modal","children","onClose","useEffect","window","addEventListener","handleEscKey","removeEventListener","code","createPortal","Overlay","currentTarget","Button","App","setPage","setQuery","setImages","loadMore","setLoadMore","modal","setModal","setError","modalImg","setModalImg","loader","setLoader","prevState","handleScrollDown","catch","finally","scrollTo","top","documentElement","scrollHeight","behavior","inputValue","autoClose","prevPage","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.fa124473.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1TIJm\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__2vwqB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"GalleryLoader\":\"GalleryLoader_GalleryLoader__2YEOx\",\"GalleryLoaderText\":\"GalleryLoader_GalleryLoaderText__3ler6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1TPQL\",\"Modal\":\"Modal_Modal__VgydA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1hWdR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"QueryError\":\"QueryError_QueryError__3MSeF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2HEe8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__7_w2I\",\"SearchForm\":\"Searchbar_SearchForm__2ywHL\",\"SearchFormButton\":\"Searchbar_SearchFormButton__TmiYR\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__3rxrN\",\"SearchFormInput\":\"Searchbar_SearchFormInput__2EdJf\"};","import axios from \"axios\";\n\nconst API_KEY = \"22025483-02f71c6158d17e06d5b927dc1\";\nconst BASE_URL = \"https://pixabay.com/api/\";\n\nfunction fetchImages(query, page) {\n  axios.defaults.baseURL = `${BASE_URL}?q=${query}&page=${page}`;\n  axios.defaults.params = {\n    key: API_KEY,\n    image_type: \"photo\",\n    orientation: \"horizontal\",\n    per_page: 12,\n  };\n\n  return axios.get().then((response) => {\n    if (response.status === 200 && response.data.hits.length > 0) {\n      return response.data;\n    }\n\n    return Promise.reject(new Error(\"Oops nothing was found :(\"));\n  });\n}\n\nconst imageGalleryApi = {\n  fetchImages,\n};\n\nexport default imageGalleryApi;\n","import { useState } from \"react\";\nimport { toast } from \"react-toastify\";\nimport PropTypes from \"prop-types\";\n\nimport \"react-toastify/dist/ReactToastify.css\";\nimport s from \"./Searchbar.module.css\";\n\nexport default function Searchbar({ onSubmit }) {\n  const [input, setInput] = useState(\"\");\n\n  const handleInputChange = (e) => {\n    const { value } = e.target;\n\n    setInput(value.toLowerCase());\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    if (input.trim() === \"\") {\n      toast.error(\"Please, enter your query!\");\n      return;\n    }\n\n    onSubmit(input);\n    setInput(\"\");\n  };\n\n  return (\n    <header className={s.Searchbar}>\n      <form className={s.SearchForm} onSubmit={handleSubmit}>\n        <button type=\"submit\" className={s.SearchFormButton}>\n          <span className={s.SearchFormButtonLabel}>Search</span>\n        </button>\n\n        <input\n          className={s.SearchFormInput}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n          value={input}\n          onChange={handleInputChange}\n        />\n      </form>\n    </header>\n  );\n}\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport s from \"./ImageGalleryItem.module.css\";\n\nexport default function ImageGalleryItem({\n  image: { webformatURL, tags, largeImageURL },\n  onClick,\n}) {\n  const onImgClick = () => {\n    onClick(largeImageURL);\n  };\n\n  return (\n    <li className={s.ImageGalleryItem}>\n      <img\n        src={webformatURL}\n        alt={tags}\n        className={s.ImageGalleryItemImage}\n        onClick={onImgClick}\n      ></img>\n    </li>\n  );\n}\n\nImageGalleryItem.propTypes = {\n  image: PropTypes.shape({\n    webformatURL: PropTypes.string.isRequired,\n    tags: PropTypes.string.isRequired,\n    largeImageURL: PropTypes.string.isRequired,\n  }),\n  onClick: PropTypes.func.isRequired,\n};\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport ImageGalleryItem from \"../ImageGalleryItem\";\n\nimport s from \"./ImageGallery.module.css\";\n\nconst ImageGallery = ({ images, onClick }) => {\n  return (\n    <ul className={s.ImageGallery}>\n      {images.map((image) => {\n        return (\n          <ImageGalleryItem key={image.id} image={image} onClick={onClick} />\n        );\n      })}\n    </ul>\n  );\n};\n\nImageGallery.propTypes = {\n  images: PropTypes.arrayOf(PropTypes.shape),\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default ImageGallery;\n","import React from \"react\";\nimport Loader from \"react-loader-spinner\";\n\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport s from \"./GalleryLoader.module.css\";\n\nconst GalleryLoader = () => {\n  return (\n    <div className={s.GalleryLoader}>\n      <Loader color=\"#A9A9A9\" width=\"100\" height=\"100\" />\n      <p className={s.GalleryLoaderText}>Loading...</p>\n    </div>\n  );\n};\n\nexport default GalleryLoader;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport s from \"./QueryError.module.css\";\n\nconst QueryError = ({ queryError }) => {\n  return <p className={s.QueryError}>{queryError.message}</p>;\n};\n\nQueryError.propTypes = {\n  queryError: PropTypes.object,\n};\n\nexport default QueryError;\n","import { useEffect } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport PropTypes from \"prop-types\";\n\nimport s from \"./Modal.module.css\";\n\nconst modalRoot = document.querySelector(\"#modal-root\");\n\nexport default function Modal({ children, onClose }) {\n  useEffect(() => {\n    window.addEventListener(\"keydown\", handleEscKey);\n    return () => {\n      window.removeEventListener(\"keydown\", handleEscKey);\n    };\n  });\n\n  const handleEscKey = (e) => {\n    if (e.code === \"Escape\") {\n      onClose();\n    }\n  };\n\n  const handleOverlayClick = (e) => {\n    if (e.currentTarget === e.target) {\n      onClose();\n    }\n  };\n\n  return createPortal(\n    <div className={s.Overlay} onClick={handleOverlayClick}>\n      <div className={s.Modal}>{children}</div>\n    </div>,\n    modalRoot\n  );\n}\n\nModal.propTypes = {\n  onClose: PropTypes.func.isRequired,\n};\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport s from \"./Button.module.css\";\n\nconst Button = ({ onClick }) => {\n  return (\n    <button onClick={onClick} className={s.Button}>\n      Load more\n    </button>\n  );\n};\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import { useState, useEffect } from \"react\";\nimport { ToastContainer } from \"react-toastify\";\nimport imageGalleryApi from \"../services/image-gallery-api\";\n\nimport Searchbar from \"./Searchbar\";\nimport ImageGallery from \"./ImageGallery\";\nimport GalleryLoader from \"./GalleryLoader\";\nimport QueryError from \"./QueryError\";\nimport Modal from \"./Modal\";\nimport Button from \"./Button\";\n\nexport default function App() {\n  const [page, setPage] = useState(1);\n  const [query, setQuery] = useState(\"\");\n  const [images, setImages] = useState([]);\n  const [loadMore, setLoadMore] = useState(false);\n  const [modal, setModal] = useState(false);\n  const [error, setError] = useState(null);\n  const [modalImg, setModalImg] = useState(\"\");\n  const [loader, setLoader] = useState(false);\n\n  useEffect(() => {\n    if (query === \"\") {\n      return;\n    }\n\n    imageGalleryApi\n      .fetchImages(query, page)\n      .then(({ hits }) => {\n        if (hits.length < 12) {\n          setLoadMore(false);\n        }\n        setImages((prevState) => {\n          return [...prevState, ...hits];\n        });\n        setLoadMore(true);\n        handleScrollDown();\n      })\n      .catch((error) => {\n        setError(error);\n      })\n      .finally(() => {\n        setLoader(false);\n      });\n  }, [query, page]);\n\n  const formSubmitHandler = (inputValue) => {\n    setQuery(inputValue);\n    setPage(1);\n    setImages([]);\n    setLoader(true);\n    setLoadMore(false);\n    setError(null);\n  };\n\n  const handleOpenModal = (largeImageURL) => {\n    setModalImg(largeImageURL);\n    setModal(true);\n  };\n\n  const handleCloseModal = () => {\n    setModal(false);\n  };\n\n  const handleLoadMore = () => {\n    setPage((prevPage) => prevPage + 1);\n    setLoader(true);\n  };\n\n  const handleScrollDown = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: \"smooth\",\n    });\n  };\n\n  return (\n    <>\n      <Searchbar onSubmit={formSubmitHandler} />\n      <ToastContainer autoClose={3000} />\n      {loader && <GalleryLoader />}\n      {error && <QueryError queryError={error} />}\n      {images && <ImageGallery images={images} onClick={handleOpenModal} />}\n      {modal && (\n        <Modal onClose={handleCloseModal}>\n          <img src={modalImg} alt=\"\" />\n        </Modal>\n      )}\n      {loadMore && <Button onClick={handleLoadMore} />}\n    </>\n  );\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./components/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}