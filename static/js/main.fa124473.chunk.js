(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{12:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__1TIJm",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__2vwqB"}},13:function(e,t,a){e.exports={GalleryLoader:"GalleryLoader_GalleryLoader__2YEOx",GalleryLoaderText:"GalleryLoader_GalleryLoaderText__3ler6"}},14:function(e,t,a){e.exports={Overlay:"Modal_Overlay__1TPQL",Modal:"Modal_Modal__VgydA"}},24:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__1hWdR"}},26:function(e,t,a){e.exports={QueryError:"QueryError_QueryError__3MSeF"}},27:function(e,t,a){e.exports={Button:"Button_Button__2HEe8"}},32:function(e,t,a){},6:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__7_w2I",SearchForm:"Searchbar_SearchForm__2ywHL",SearchFormButton:"Searchbar_SearchFormButton__TmiYR",SearchFormButtonLabel:"Searchbar_SearchFormButtonLabel__3rxrN",SearchFormInput:"Searchbar_SearchFormInput__2EdJf"}},74:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(5),o=a.n(c),l=(a(32),a(15)),s=a(4),u=a(9),i=a(10),m=a.n(i);var j={fetchImages:function(e,t){return m.a.defaults.baseURL="".concat("https://pixabay.com/api/","?q=").concat(e,"&page=").concat(t),m.a.defaults.params={key:"22025483-02f71c6158d17e06d5b927dc1",image_type:"photo",orientation:"horizontal",per_page:12},m.a.get().then((function(e){return 200===e.status&&e.data.hits.length>0?e.data:Promise.reject(new Error("Oops nothing was found :("))}))}},b=(a(51),a(6)),h=a.n(b),d=a(1);function f(e){var t=e.onSubmit,a=Object(r.useState)(""),n=Object(s.a)(a,2),c=n[0],o=n[1];return Object(d.jsx)("header",{className:h.a.Searchbar,children:Object(d.jsxs)("form",{className:h.a.SearchForm,onSubmit:function(e){e.preventDefault(),""!==c.trim()?(t(c),o("")):u.b.error("Please, enter your query!")},children:[Object(d.jsx)("button",{type:"submit",className:h.a.SearchFormButton,children:Object(d.jsx)("span",{className:h.a.SearchFormButtonLabel,children:"Search"})}),Object(d.jsx)("input",{className:h.a.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:c,onChange:function(e){var t=e.target.value;o(t.toLowerCase())}})]})})}var O=a(12),g=a.n(O);function _(e){var t=e.image,a=t.webformatURL,r=t.tags,n=t.largeImageURL,c=e.onClick;return Object(d.jsx)("li",{className:g.a.ImageGalleryItem,children:Object(d.jsx)("img",{src:a,alt:r,className:g.a.ImageGalleryItemImage,onClick:function(){c(n)}})})}var y=a(24),x=a.n(y),p=function(e){var t=e.images,a=e.onClick;return Object(d.jsx)("ul",{className:x.a.ImageGallery,children:t.map((function(e){return Object(d.jsx)(_,{image:e,onClick:a},e.id)}))})},S=a(25),I=a.n(S),v=(a(73),a(13)),L=a.n(v),w=function(){return Object(d.jsxs)("div",{className:L.a.GalleryLoader,children:[Object(d.jsx)(I.a,{color:"#A9A9A9",width:"100",height:"100"}),Object(d.jsx)("p",{className:L.a.GalleryLoaderText,children:"Loading..."})]})},G=a(26),E=a.n(G),k=function(e){var t=e.queryError;return Object(d.jsx)("p",{className:E.a.QueryError,children:t.message})},C=a(14),F=a.n(C),N=document.querySelector("#modal-root");function B(e){var t=e.children,a=e.onClose;Object(r.useEffect)((function(){return window.addEventListener("keydown",n),function(){window.removeEventListener("keydown",n)}}));var n=function(e){"Escape"===e.code&&a()};return Object(c.createPortal)(Object(d.jsx)("div",{className:F.a.Overlay,onClick:function(e){e.currentTarget===e.target&&a()},children:Object(d.jsx)("div",{className:F.a.Modal,children:t})}),N)}var T=a(27),M=a.n(T),q=function(e){var t=e.onClick;return Object(d.jsx)("button",{onClick:t,className:M.a.Button,children:"Load more"})};function Q(){var e=Object(r.useState)(1),t=Object(s.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)(""),o=Object(s.a)(c,2),i=o[0],m=o[1],b=Object(r.useState)([]),h=Object(s.a)(b,2),O=h[0],g=h[1],_=Object(r.useState)(!1),y=Object(s.a)(_,2),x=y[0],S=y[1],I=Object(r.useState)(!1),v=Object(s.a)(I,2),L=v[0],G=v[1],E=Object(r.useState)(null),C=Object(s.a)(E,2),F=C[0],N=C[1],T=Object(r.useState)(""),M=Object(s.a)(T,2),Q=M[0],R=M[1],A=Object(r.useState)(!1),J=Object(s.a)(A,2),P=J[0],H=J[1];Object(r.useEffect)((function(){""!==i&&j.fetchImages(i,a).then((function(e){var t=e.hits;t.length<12&&S(!1),g((function(e){return[].concat(Object(l.a)(e),Object(l.a)(t))})),S(!0),U()})).catch((function(e){N(e)})).finally((function(){H(!1)}))}),[i,a]);var U=function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})};return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(f,{onSubmit:function(e){m(e),n(1),g([]),H(!0),S(!1),N(null)}}),Object(d.jsx)(u.a,{autoClose:3e3}),P&&Object(d.jsx)(w,{}),F&&Object(d.jsx)(k,{queryError:F}),O&&Object(d.jsx)(p,{images:O,onClick:function(e){R(e),G(!0)}}),L&&Object(d.jsx)(B,{onClose:function(){G(!1)},children:Object(d.jsx)("img",{src:Q,alt:""})}),x&&Object(d.jsx)(q,{onClick:function(){n((function(e){return e+1})),H(!0)}})]})}o.a.render(Object(d.jsx)(n.a.StrictMode,{children:Object(d.jsx)(Q,{})}),document.getElementById("root"))}},[[74,1,2]]]);
//# sourceMappingURL=main.fa124473.chunk.js.map